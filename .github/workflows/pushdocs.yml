name: pushdocs.yml

on:
  push:	
    branches:	
      - akt
      - gh-pages

jobs:

  deploy:
    name: Deploy to GitHub Pages
    runs-on: ubuntu-latest    
    steps:
    - uses: actions/checkout@main
    
    - run: sudo apt-get install doxygen
    - run: sudo apt-get install graphviz
    - run: doxygen doxconf

    - name: Deploy 
       uses: s0/github-pages-deploy-action@3.6.2 #JamesIves/github-pages-deploy-action@3.6.2
       with:
        GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}
        BRANCH: gh-pages # The branch the action should deploy to.
        FOLDER: DOCS/html # The folder the action should deploy.
        CLEAN: true # Automatically remove deleted files from the deploy branch